#include <stdio.h>
#include "sauvegarde_descripteurs.h"

int main(){
	unsigned char flag;
	Capsule caps = newCapsule(&flag);
	sds s = sdsnew("textestupidementlong poiejfozijfpozfmozflfikjz,fmorezqfmoezqfmokzqfmmmkzqfrmjzqmofjrezqmorejzqmoedqpqojfoizeqjfkdpoizqkjfôizjekf^pozqkefjzqfepoijzqoifejqiemqôizjfeù^jqùZJDFIZQREFKDS%PIZJE¨PFKZREJFPJE%FPKSQJD%PKJEOIFJMqkdsmfkJEPFOIJprokfeporkfpzoekjfpzoiekjfpzoiekfpzokpzokepflkqsmdkpfoksefksmekfpsokefpokrpofkqlkdqoksdôqkdpéo,fepnspeokjfôdkfkjdzpzojdfpoijorijgoijyuyourtoinovntvhteçunhzçurnbvcxàzkrôezkorfpoezkrpiekrfpjpijpeijpzjepzjefpokqdkfmldsmlzmojfmozkmlzdmmkjmjfhoirhpfkapqmqmxckvnbdkfpzoekpokfpoekfpokpjfpijfepzkfpokqmjdpifjpoeirhpiupzjdpofksmeoipfouptupgifjdmsqjcmqokepozjvpnpsnmsk,mqokepofkpejfzpkdjmsqjmoezkfmoejfmqkjmoekjfmoqjmslkfpiekfzpoiefpzkfpzoekfpoakepozkrpfzevoientoehgoihjrvoientoueoguehjvoijdozijdfpzikdpfojzjfepzokd^pokfzsqkdpijspdfkezporpijgfpoizjdpsokjrepskfpirjfposkdpojzpjpidkfpozkfpozkjpfiejedcjepozkdlskpodjqkpfdlakez^dopoksqpokcpqekfmskcmlqjdcpnjvoirezjtpoidepockpajscpiqdjcpzoikjrpaoekjdfpqoidjfpqkfdposqekfpoqkf^pskre^pfkepsqokjdfmskfmqksmzkdpds,cpozkepokfamokdmqkds^kef^zkfpzkdfpzefpdz,scpozkfezfô^podkjq^pkfe^zoekfpeokfpzokd^pfokzf^zokçfkrpzockpizourhghvoiznvpzkepfoipzejfkpsokepmsokefpqokjfepzijfprijfpzojepfzjprzjfzpokjdpsijefpkjapoekpzjepqokfpoekpzfokpzfpzijfepzrjfpizajfpijspjrepjpfijzfpizjefpijefpezjfpoezjkfpozkepoqksmkecpzoekjpdokezf^pokzepfkcpoqdkpozkfepokjrzpjfpiajefpqjefporezkf^kqepfc,pzdpzojrtpizhjfo,ecpzkdpizjfopziejcpzoejcpzejpifkjrpozijcoerjkncpzdjpoijfpjzqmoedqpqojfoizeqjfkdpoizqkjfôizjekf^pozqkefjzqfepoijzqoifejqiemqôizjfeù^jqùZJDFIZQREFKDS%PIZJE¨PFKZREJFPJE%FPKSQJD%PKJEOIFJMqkdsmfkJEPFOIJprokfeporkfpzoekjfpzoiekjfpzoiekfpzokpzokepflkqsmdkpfoksefksmekfpsokefpokrpofkqlkdqoksdôqkdpéo,fepnspeokjfôdkfkjdzpzojdfpoijorijgoijyuyourtoinovntvhteçunhzçurnbvcxàzkrôezkorfpoezkrpiekrfpjpijpeijpzjepzjefpokqdkfmldsmlzmojfmozkmlzdmmkjmjfhoirhpfkapqmqmxckvnbdkfpzoekpokfpoekfpokpjfpijfepzkfpokqmjdpifjpoeirhpiupzjdpofksmeoipfouptupgifjdmsqjcmqokepozjvpnpsnmsk,mqokepofkpejfzpkdjmsqjmoezkfmoejfmqkjmoekjfmoqjmslkfpiekfzpoiefpzkfpzoekfpoakepozkrpfzevoientoehgoihjrvoientoueoguehjvoijdozijdfpzikdpfojzjfepzokd^pokfzsqkdpijspdfkezporpijgfpoizjdpsokjrepskfpirjfposkdpojzpjpidkfpozkfpozkjpfiejedcjepozkdlskpodjqkpfdlakez^dopoksqpokcpqekfmskcmlqjdcpnjvoirezjtpoidepockpajscpiqdjcpzoikjrpaoekjdfpqoidjfpqkfdposqekfpoqkf^pskre^pfkepsqokjdfmskfmqksmzkdpds,cpozkepokfamokdmqkds^kef^zkfpzkdfpzefpdz,scpozkfezfô^podkjq^pkfe^zoekfpeokfpzokd^pfokzf^zokçfkrpzockpizourhghvoiznvpzkepfoipzejfkpsokepmsokefpqokjfepzijfprijfpzojepfzjprzjfzpokjdpsijefpkjapoekpzjepqokfpoekpzfokpzfpzijfepzrjfpizajfpijspjrepjpfijzfpizjefpijefpezjfpoezjkfpozkepoqksmkecpzoekjpdokezf^pokzepfkcpoqdkpozkfepokjrzpjfpiajefpqjefporezkf^kqepfc,pzdpzojrtpizhjfo,ecpzkdpizjfopziejcpzoejcpzejpifkjrpozijcoerjkncpzdjpoijfpjzqmoedqpqojfoizeqjfkdpoizqkjfôizjekf^pozqkefjzqfepoijzqoifejqiemqôizjfeù^jqùZJDFIZQREFKDS%PIZJE¨PFKZREJFPJE%FPKSQJD%PKJEOIFJMqkdsmfkJEPFOIJprokfeporkfpzoekjfpzoiekjfpzoiekfpzokpzokepflkqsmdkpfoksefksmekfpsokefpokrpofkqlkdqoksdôqkdpéo,fepnspeokjfôdkfkjdzpzojdfpoijorijgoijyuyourtoinovntvhteçunhzçurnbvcxàzkrôezkorfpoezkrpiekrfpjpijpeijpzjepzjefpokqdkfmldsmlzmojfmozkmlzdmmkjmjfhoirhpfkapqmqmxckvnbdkfpzoekpokfpoekfpokpjfpijfepzkfpokqmjdpifjpoeirhpiupzjdpofksmeoipfouptupgifjdmsqjcmqokepozjvpnpsnmsk,mqokepofkpejfzpkdjmsqjmoezkfmoejfmqkjmoekjfmoqjmslkfpiekfzpoiefpzkfpzoekfpoakepozkrpfzevoientoehgoihjrvoientoueoguehjvoijdozijdfpzikdpfojzjfepzokd^pokfzsqkdpijspdfkezporpijgfpoizjdpsokjrepskfpirjfposkdpojzpjpidkfpozkfpozkjpfiejedcjepozkdlskpodjqkpfdlakez^dopoksqpokcpqekfmskcmlqjdcpnjvoirezjtpoidepockpajscpiqdjcpzoikjrpaoekjdfpqoidjfpqkfdposqekfpoqkf^pskre^pfkepsqokjdfmskfmqksmzkdpds,cpozkepokfamokdmqkds^kef^zkfpzkdfpzefpdz,scpozkfezfô^podkjq^pkfe^zoekfpeokfpzokd^pfokzf^zokçfkrpzockpizourhghvoiznvpzkepfoipzejfkpsokepmsokefpqokjfepzijfprijfpzojepfzjprzjfzpokjdpsijefpkjapoekpzjepqokfpoekpzfokpzfpzijfepzrjfpizajfpijspjrepjpfijzfpizjefpijefpezjfpoezjkfpozkepoqksmkecpzoekjpdokezf^pokzepfkcpoqdkpozkfepokjrzpjfpiajefpqjefporezkf^kqepfc,pzdpzojrtpizhjfo,ecpzkdpizjfopziejcpzoejcpzejpifkjrpozijcoerjkncpzdjpoijfpjzqmoedqpqojfoizeqjfkdpoizqkjfôizjekf^pozqkefjzqfepoijzqoifejqiemqôizjfeù^jqùZJDFIZQREFKDS%PIZJE¨PFKZREJFPJE%FPKSQJD%PKJEOIFJMqkdsmfkJEPFOIJprokfeporkfpzoekjfpzoiekjfpzoiekfpzokpzokepflkqsmdkpfoksefksmekfpsokefpokrpofkqlkdqoksdôqkdpéo,fepnspeokjfôdkfkjdzpzojdfpoijorijgoijyuyourtoinovntvhteçunhzçurnbvcxàzkrôezkorfpoezkrpiekrfpjpijpeijpzjepzjefpokqdkfmldsmlzmojfmozkmlzdmmkjmjfhoirhpfkapqmqmxckvnbdkfpzoekpokfpoekfpokpjfpijfepzkfpokqmjdpifjpoeirhpiupzjdpofksmeoipfouptupgifjdmsqjcmqokepozjvpnpsnmsk,mqokepofkpejfzpkdjmsqjmoezkfmoejfmqkjmoekjfmoqjmslkfpiekfzpoiefpzkfpzoekfpoakepozkrpfzevoientoehgoihjrvoientoueoguehjvoijdozijdfpzikdpfojzjfepzokd^pokfzsqkdpijspdfkezporpijgfpoizjdpsokjrepskfpirjfposkdpojzpjpidkfpozkfpozkjpfiejedcjepozkdlskpodjqkpfdlakez^dopoksqpokcpqekfmskcmlqjdcpnjvoirezjtpoidepockpajscpiqdjcpzoikjrpaoekjdfpqoidjfpqkfdposqekfpoqkf^pskre^pfkepsqokjdfmskfmqksmzkdpds,cpozkepokfamokdmqkds^kef^zkfpzkdfpzefpdz,scpozkfezfô^podkjq^pkfe^zoekfpeokfpzokd^pfokzf^zokçfkrpzockpizourhghvoiznvpzkepfoipzejfkpsokepmsokefpqokjfepzijfprijfpzojepfzjprzjfzpokjdpsijefpkjapoekpzjepqokfpoekpzfokpzfpzijfepzrjfpizajfpijspjrepjpfijzfpizjefpijefpezjfpoezjkfpozkepoqksmkecpzoekjpdokezf^pokzepfkcpoqdkpozkfepokjrzpjfpiajefpqjefporezkf^kqepfc,pzdpzojrtpizhjfo,ecpzkdpizjfopziejcpzoejcpzejpifkjrpozijcoerjkncpzdjpoijfpjzqmoedqpqojfoizeqjfkdpoizqkjfôizjekf^pozqkefjzqfepoijzqoifejqiemqôizjfeù^jqùZJDFIZQREFKDS%PIZJE¨PFKZREJFPJE%FPKSQJD%PKJEOIFJMqkdsmfkJEPFOIJprokfeporkfpzoekjfpzoiekjfpzoiekfpzokpzokepflkqsmdkpfoksefksmekfpsokefpokrpofkqlkdqoksdôqkdpéo,fepnspeokjfôdkfkjdzpzojdfpoijorijgoijyuyourtoinovntvhteçunhzçurnbvcxàzkrôezkorfpoezkrpiekrfpjpijpeijpzjepzjefpokqdkfmldsmlzmojfmozkmlzdmmkjmjfhoirhpfkapqmqmxckvnbdkfpzoekpokfpoekfpokpjfpijfepzkfpokqmjdpifjpoeirhpiupzjdpofksmeoipfouptupgifjdmsqjcmqokepozjvpnpsnmsk,mqokepofkpejfzpkdjmsqjmoezkfmoejfmqkjmoekjfmoqjmslkfpiekfzpoiefpzkfpzoekfpoakepozkrpfzevoientoehgoihjrvoientoueoguehjvoijdozijdfpzikdpfojzjfepzokd^pokfzsqkdpijspdfkezporpijgfpoizjdpsokjrepskfpirjfposkdpojzpjpidkfpozkfpozkjpfiejedcjepozkdlskpodjqkpfdlakez^dopoksqpokcpqekfmskcmlqjdcpnjvoirezjtpoidepockpajscpiqdjcpzoikjrpaoekjdfpqoidjfpqkfdposqekfpoqkf^pskre^pfkepsqokjdfmskfmqksmzkdpds,cpozkepokfamokdmqkds^kef^zkfpzkdfpzefpdz,scpozkfezfô^podkjq^pkfe^zoekfpeokfpzokd^pfokzf^zokçfkrpzockpizourhghvoiznvpzkepfoipzejfkpsokepmsokefpqokjfepzijfprijfpzojepfzjprzjfzpokjdpsijefpkjapoekpzjepqokfpoekpzfokpzfpzijfepzrjfpizajfpijspjrepjpfijzfpizjefpijefpezjfpoezjkfpozkepoqksmkecpzoekjpdokezf^pokzepfkcpoqdkpozkfepokjrzpjfpiajefpqjefporezkf^kqepfc,pzdpzojrtpizhjfo,ecpzkdpizjfopziejcpzoejcpzejpifkjrpozijcoerjkncpzdjpoijfp");
	flag = addElement(&caps,s);
	s = sdsnew("pqjefporezkf^kqepfc,pzdpzojrtpizhjfo,ecpzkdpizjfopziejcpzoejcpzejpifkjrpozijcoerjkncpzdjpoijfpjzqmoedqpqojfoizeqjfkdpoizqkjfôizjekf^pozqkefjzqfepoijzqoifejqiemqôizjfeù^jqùZJDFIZQREFKDS%PIZJE¨PFKZREJFPJE%FPKSQJD%PKJEOIFJMqkdsmfkJEPFOIJprokfeporkfpzoekjfpzoiekjfpzoiekfpzokpzokepflkqsmdkpfoksefksmekfpsokefpokrpofkqlkdqoksdôqkdpéo,fepnspeokjfôdkfkjdzpzojdfpoijorijgoijyuyourtoinovntvhteçunhzçurnbvcxàzkrôezkorfpoezkrpiekrfpjpijpeijpzjepzjefpokqdkfmldsmlzmojfmozkmlzdmmkjmjfhoirhpfkapqmqmxckvnbdkfpzoekpokfpoekfpokpjfpijfepzkfpokqmjdpifjpoeirhpiupzjdpofksmeoipfouptupgifjdmsqjcmqokepozjvpnpsnmsk,mqokepofkpejfzpkdjmsqjmoezkfmoejfmqkjmoekjfmoqjmslkfpiekfzpoiefpzkfpzoekfpoakepozkrpfzevoientoehgoihjrvoientoueoguehjvoijdozijdfpzikdpfojzjfepzokd^pokfzsqkdpijspdfkezporpijgfpoizjdpsokjrepskfpirjfposkdpojzpjpidkfpozkfpozkjpfiejedcjepozkdlskpodjqkpfdlakez^dopoksqpokcpqekfmskcmlqjdcpnjvoirezjtpoidepockpajscpiqdjcpzoikjrpaoekjdfpqoidjfpqkfdposqekfpoqkf^pskre^pfkepsqokjdfmskfmqksmzkdpds,cpozkepokfamokdmqkds^kef^zkfpzkdfpzefpdz,scpozkfezfô^podkjq^pkfe^zoekfpeokfpzokd^pfokzf^zokçfkrpzockpizourhghvoiznvpzkepfoipzejfkpsokepmsokefpqokjfepzijfprijfpzojepfzjprzjfzpokjdpsijefpkjapoekpzjepqokfpoekpzfokpzfpzijfepzrjfpizajfpijspjrepjpfijzfpizjefpijefpezjfpoezjkfpozkepoqksmkecpzoekjpdokezf^pokzepfkcpoqdkpozkfepokjrzpjfpiajefpqjefporezkf^kqepfc,pzdpzojrtpizhjfo,ecpzkdpizjfopziejcpzoejcpzejpifkjrpozijcoerjkncpzdjpoijfpjzqmoedqpqojfoizeqjfkdpoizqkjfôizjekf^pozqkefjzqfepoijzqoifejqiemqôizjfeù^jqùZJDFIZQREFKDS%PIZJE¨PFKZREJFPJE%FPKSQJD%PKJEOIFJMqkdsmfkJEPFOIJprokfeporkfpzoekjfpzoiekjfpzoiekfpzokpzokepflkqsmdkpfoksefksmekfpsokefpokrpofkqlkdqoksdôqkdpéo,fepnspeokjfôdkfkjdzpzojdfpoijorijgoijyuyourtoinovntvhteçunhzçurnbvcxàzkrôezkorfpoezkrpiekrfpjpijpeijpzjepzjefpokqdkfmldsmlzmojfmozkmlzdmmkjmjfhoirhpfkapqmqmxckvnbdkfpzoekpokfpoekfpokpjfpijfepzkfpokqmjdpifjpoeirhpiupzjdpofksmeoipfouptupgifjdmsqjcmqokepozjvpnpsnmsk,mqokepofkpejfzpkdjmsqjmoezkfmoejfmqkjmoekjfmoqjmslkfpiekfzpoiefpzkfpzoekfpoakepozkrpfzevoientoehgoihjrvoientoueoguehjvoijdozijdfpzikdpfojzjfepzokd^pokfzsqkdpijspdfkezporpijgfpoizjdpsokjrepskfpirjfposkdpojzpjpidkfpozkfpozkjpfiejedcjepozkdlskpodjqkpfdlakez^dopoksqpokcpqekfmskcmlqjdcpnjvoirezjtpoidepockpajscpiqdjcpzoikjrpaoekjdfpqoidjfpqkfdposqekfpoqkf^pskre^pfkepsqokjdfmskfmqksmzkdpds,cpozkepokfamokdmqkds^kef^zkfpzkdfpzefpdz,scpozkfezfô^podkjq^");
	flag = addElement(&caps,s);
	saveDescripteurs(&flag,caps,"fTestDesc2.desc");
	freeCapsule(caps);
	printf("lecture");getchar();
	caps = loadDescripteurs(&flag,"fTestDesc2.desc");
	printf("a lu : %u",caps.nbDescripteurs);getchar();
	printf("desc1 : %s\n\n",caps.descripteurs[0]);
	printf("desc1 lu");getchar();
	printf("desc2 : %s",caps.descripteurs[1]);
	freeCapsule(caps);
}